<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>Linux下的python3，virtualenv，Mysql、nginx、redis安装配置 | Hexo</title><meta name="description" content="参考：https:&#x2F;&#x2F;www.cnblogs.com&#x2F;pyyu&#x2F;articles&#x2F;9365054.html  1 安装python3 1.1 下载python源码包 12345wget https:&#x2F;&#x2F;www.python.org&#x2F;ftp&#x2F;python&#x2F;3.6.7&#x2F;Python-3.6.7.tar.xz# 或wget https:&#x2F;&#x2F;www.python.org&#x2F;ftp&#x2F;python&#x2F;3.6.7&#x2F;"><meta property="og:type" content="article"><meta property="og:title" content="Linux下的python3，virtualenv，Mysql、nginx、redis安装配置"><meta property="og:url" content="http://example.com/2021/01/21/linux%20%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/[Linux]%20Linux%E4%B8%8B%E7%9A%84python3%EF%BC%8Cvirtualenv%EF%BC%8CMysql%E3%80%81nginx%E3%80%81redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/index.html"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="参考：https:&#x2F;&#x2F;www.cnblogs.com&#x2F;pyyu&#x2F;articles&#x2F;9365054.html  1 安装python3 1.1 下载python源码包 12345wget https:&#x2F;&#x2F;www.python.org&#x2F;ftp&#x2F;python&#x2F;3.6.7&#x2F;Python-3.6.7.tar.xz# 或wget https:&#x2F;&#x2F;www.python.org&#x2F;ftp&#x2F;python&#x2F;3.6.7&#x2F;"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="c:%5CUsers%5Cyango%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1610787339259.png"><meta property="og:image" content="https://images2018.cnblogs.com/blog/1132884/201807/1132884-20180726113018954-757644711.png"><meta property="og:image" content="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223140024043-914316551.png"><meta property="og:image" content="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223140628401-1902345961.png"><meta property="og:image" content="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223140721583-1718649859.png"><meta property="og:image" content="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223140843664-1138395293.png"><meta property="og:image" content="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223141433774-1613386939.png"><meta property="og:image" content="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223141820442-26776716.png"><meta property="og:image" content="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223142058134-390931034.png"><meta property="og:image" content="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223142143245-586519999.png"><meta property="og:image" content="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223142200190-1364319425.png"><meta property="og:image" content="https://images2015.cnblogs.com/blog/1132884/201706/1132884-20170608195307153-632918138.png"><meta property="og:image" content="https://images2015.cnblogs.com/blog/1132884/201706/1132884-20170608195424153-856395118.png"><meta property="og:image" content="https://images2015.cnblogs.com/blog/1132884/201706/1132884-20170608195542012-1827075240.png"><meta property="og:image" content="https://images2015.cnblogs.com/blog/1132884/201706/1132884-20170608195608981-324219456.png"><meta property="article:published_time" content="2021-01-21T15:41:19.487Z"><meta property="article:modified_time" content="2021-01-21T15:40:51.558Z"><meta property="article:author" content="yango"><meta property="article:tag" content="linux"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="c:%5CUsers%5Cyango%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1610787339259.png"><link rel="canonical" href="http://example.com/2021/01/21/linux%20%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/[Linux]%20Linux%E4%B8%8B%E7%9A%84python3%EF%BC%8Cvirtualenv%EF%BC%8CMysql%E3%80%81nginx%E3%80%81redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/index.html"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 5.3.0"></head><body class="main-center" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/YANGMOXI" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">取个帅气的昵称</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">。。</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav menu-highlight"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">分类</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">标签</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/YANGMOXI" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">公告</h3><div class="widget-body"><div id="board"><div class="content"><p>最近在看sk∞</p></div></div></div></div><div class="widget"><h3 class="widget-title">分类</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/flask/">flask</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/restful/">restful</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/restful/django/">django</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/token/">token</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">算法和数据结构</a><span class="category-list-count">5</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签</h3><div class="widget-body"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/" rel="tag">Mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/" rel="tag">bash</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/" rel="tag">django</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/drf/" rel="tag">drf</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/" rel="tag">flask</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jwt/" rel="tag">jwt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a><span class="tag-list-count">25</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/token/" rel="tag">token</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag">虚拟机</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">面试题</a><span class="tag-list-count">2</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签云</h3><div class="widget-body tagcloud"><a href="/tags/Mysql/" style="font-size:13px">Mysql</a> <a href="/tags/bash/" style="font-size:13px">bash</a> <a href="/tags/django/" style="font-size:13.5px">django</a> <a href="/tags/drf/" style="font-size:13.5px">drf</a> <a href="/tags/flask/" style="font-size:13.75px">flask</a> <a href="/tags/jwt/" style="font-size:13px">jwt</a> <a href="/tags/linux/" style="font-size:13.5px">linux</a> <a href="/tags/python/" style="font-size:14px">python</a> <a href="/tags/token/" style="font-size:13px">token</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size:13px">数据结构</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size:13.5px">算法</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size:13px">虚拟机</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size:13.25px">面试题</a></div></div><div class="widget"><h3 class="widget-title">归档</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">30</span></li></ul></div></div><div class="widget"><h3 class="widget-title">最新文章</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/linux/">linux</a></p><p class="item-title"><a href="/2021/01/21/linux%20%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/%5BLinux%5D%20Linux%E4%B8%8B%E7%9A%84python3%EF%BC%8Cvirtualenv%EF%BC%8CMysql%E3%80%81nginx%E3%80%81redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/" class="title">Linux下的python3，virtualenv，Mysql、nginx、redis安装配置</a></p><p class="item-date"><time datetime="2021-01-21T15:41:19.487Z" itemprop="datePublished">2021-01-21</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">算法和数据结构</a></p><p class="item-title"><a href="/2021/01/19/%E7%AE%97%E6%B3%95_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8D%8E%E4%B8%BA-%E6%9C%BA%E8%80%83/" class="title">华为机试</a></p><p class="item-date"><time datetime="2021-01-19T06:03:19.131Z" itemprop="datePublished">2021-01-19</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">算法和数据结构</a></p><p class="item-title"><a href="/2021/01/19/%E7%AE%97%E6%B3%95_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E4%B9%A0%E9%A2%98/" class="title">常考算法题（汇总）</a></p><p class="item-date"><time datetime="2021-01-19T06:03:19.127Z" itemprop="datePublished">2021-01-19</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/python/">python</a></p><p class="item-title"><a href="/2021/01/19/Python%20%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/" class="title">Python知识点汇总</a></p><p class="item-date"><time datetime="2021-01-19T05:56:53.446Z" itemprop="datePublished">2021-01-19</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/linux/">linux</a></p><p class="item-title"><a href="/2021/01/18/linux%20%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/%5BLinux%5D%20%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%88%E6%B1%87%E6%80%BB%EF%BC%89/" class="title">Linux 常用其他命令</a></p><p class="item-date"><time datetime="2021-01-18T15:09:16.994Z" itemprop="datePublished">2021-01-18</time></p></div></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><nav id="toc" class="article-toc"><h3 class="toc-title">文章目录</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85python3"><span class="toc-number">1.</span> <span class="toc-text">1 安装python3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#python%E6%BA%90"><span class="toc-number">1.1.</span> <span class="toc-text">python源</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85-%E9%85%8D%E7%BD%AEvirtualenv"><span class="toc-number">2.</span> <span class="toc-text">2 安装、配置virtualenv</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B9%8Bvirtualenvwrapper"><span class="toc-number">2.1.</span> <span class="toc-text">虚拟环境之virtualenvwrapper</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-mysql"><span class="toc-number">3.</span> <span class="toc-text">3 Mysql</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31-%E5%AE%89%E8%A3%85mysql"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 安装Mysql</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32-mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 Mysql数据库配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E7%BD%AEmysql%E5%AF%86%E7%A0%81-%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-number">3.2.1.</span> <span class="toc-text">重置Mysql密码 (方法一)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">3.3.</span> <span class="toc-text"></span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E7%BD%AEmysql%E5%AF%86%E7%A0%81-%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-number">3.3.1.</span> <span class="toc-text">重置Mysql密码 (方法二)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33-%E5%BC%80%E5%90%AFmysql%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE"><span class="toc-number">3.4.</span> <span class="toc-text">3.3 开启mysql的远程访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34-%E5%BC%80%E5%90%AF%E9%98%B2%E7%81%AB%E5%A2%99%E7%AB%AF%E5%8F%A3centos%E4%B8%BAfirewalld%E6%B7%BB%E5%8A%A0%E5%BC%80%E6%94%BE%E7%AB%AF%E5%8F%A33306"><span class="toc-number">3.5.</span> <span class="toc-text">3.4 开启防火墙端口，CentOS为firewalld添加开放端口3306</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#35-%E6%9B%B4%E6%94%B9mysql%E8%AF%AD%E8%A8%80%E7%BC%96%E7%A0%81%E6%96%B9%E5%BC%8F%E4%B8%BAutf8"><span class="toc-number">3.6.</span> <span class="toc-text">3.5 更改mysql语言编码方式为utf8</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-python%E6%93%8D%E4%BD%9Credis"><span class="toc-number">4.</span> <span class="toc-text">4 python操作redis</span></a></li></ol></nav></div></aside><main class="main" role="main"><div class="content"><article id="post-linux 项目部署/[Linux] Linux下的python3，virtualenv，Mysql、nginx、redis安装配置" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">Linux下的python3，virtualenv，Mysql、nginx、redis安装配置</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2021/01/21/linux%20%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/%5BLinux%5D%20Linux%E4%B8%8B%E7%9A%84python3%EF%BC%8Cvirtualenv%EF%BC%8CMysql%E3%80%81nginx%E3%80%81redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/" class="article-date"><time datetime="2021-01-21T15:41:19.487Z" itemprop="datePublished">2021-01-21</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/linux/">linux</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/linux/" rel="tag">linux</a> </span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/01/21/linux%20%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/%5BLinux%5D%20Linux%E4%B8%8B%E7%9A%84python3%EF%BC%8Cvirtualenv%EF%BC%8CMysql%E3%80%81nginx%E3%80%81redis%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/#comments" class="article-comment-link">评论</a></span></div></div><div class="article-entry marked-body" itemprop="articleBody"><p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/pyyu/articles/9365054.html">https://www.cnblogs.com/pyyu/articles/9365054.html</a></p><h2 id="1-安装python3"><a class="markdownIt-Anchor" href="#1-安装python3"></a> 1 安装python3</h2><p><strong>1.1 下载python源码包</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.python.org/ftp/python/3.6.7/Python-3.6.7.tar.xz</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或</span></span><br><span class="line">wget https://www.python.org/ftp/python/3.6.7/Python-3.6.7.tgz</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 注：若找不到wget命令，输入yum install wget -y，安装其依赖将会被安装</span></span><br></pre></td></tr></table></figure><p><strong>1.2 安装python前的库环境</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> yum install gcc patch libffi-devel python-devel  zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel -y</span></span><br><span class="line"></span><br><span class="line">&quot;直接yum install python3&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> yum install openssl-devel bzip2-devel expat-devel gdbm-devel</span></span><br><span class="line">readline-devel sqlite-devel gcc gcc-c++ openssl-devel python3</span><br><span class="line">python3-devel -y</span><br><span class="line"></span><br><span class="line">&quot;用了第3个&quot;</span><br><span class="line">yum -y install openssl-devel bzip2-devel expat-devel gdbm-devel readline-devel sqlite-devel gcc</span><br></pre></td></tr></table></figure><p><strong>1.3 解压源码包</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xz -d Python-3.6.7.tar.xz # tar.xz包命令</span><br><span class="line">tar -xf Python-3.6.7.tar</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或</span></span><br><span class="line">tar -zxvf Python-3.6.7.tgz # tgz包用这个命令</span><br></pre></td></tr></table></figure><p><strong>1.4 选择安装位置、 编译安装</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /usr/local/python3</span><br><span class="line"></span><br><span class="line">cd Python-3.6.7</span><br><span class="line"><span class="meta">#</span><span class="bash"> 指定安装路径（包含检查依赖）</span></span><br><span class="line">./configure --prefix=/usr/local/python3  </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 编译安装</span></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p><strong>1.5 建立Python3和pip3的软链:</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/python3/bin/python3 /usr/bin/python3</span><br><span class="line"></span><br><span class="line">ln -s /usr/local/python3/bin/pip3 /usr/bin/pip3</span><br></pre></td></tr></table></figure><p><strong>1.6 将/usr/local/python3/bin加入PATH</strong></p><p>将python3命令加入环境变量</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 编辑文件</span> </span><br><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 写入以下：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> vim ~/.bash_profile</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> .bash_profile</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Get the aliases and <span class="built_in">functions</span></span></span><br><span class="line">if [ -f ~/.bashrc ]; then</span><br><span class="line">. ~/.bashrc</span><br><span class="line">fi</span><br><span class="line"><span class="meta">#</span><span class="bash"> User specific environment and startup programs</span></span><br><span class="line">PATH=$PATH:$HOME/bin:/usr/local/python3/bin</span><br><span class="line">export PATH</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 让命令生效</span></span><br><span class="line">source ~/.bash_profile</span><br></pre></td></tr></table></figure><p>检查python3、pip3是否有效</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3 -V <span class="comment"># v大写</span></span><br><span class="line">pip3 -V</span><br></pre></td></tr></table></figure><h3 id="python源"><a class="markdownIt-Anchor" href="#python源"></a> python源</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 在~/.pip/pip.config 文件写入（无文件夹则需要创建）</span></span><br><span class="line">    </span><br><span class="line">[global]</span><br><span class="line">index-url = http://mirrors.aliyun.com/pypi/simple/</span><br><span class="line"><span class="meta">#</span><span class="bash"> index-url = https://pypi.tuna.tsinghua.edu.cn/simple/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> index-url = http://pypi.douban.com/simple/:wq</span></span><br><span class="line"></span><br><span class="line">[install]</span><br><span class="line">trusted-host=mirrors.aliyun.com</span><br></pre></td></tr></table></figure><h2 id="2-安装-配置virtualenv"><a class="markdownIt-Anchor" href="#2-安装-配置virtualenv"></a> 2 安装、配置virtualenv</h2><p><strong>2.1 安装、配置</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装virtualenv</span></span><br><span class="line">pip3 install virtualenv </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 创建软链接</span></span><br><span class="line">ln -s /usr/local/python3/bin/virtualenv /usr/bin/virtualenv</span><br></pre></td></tr></table></figure><p><strong>2.2 使用</strong></p><p>(1) 方法一：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 指定virtualenv创建虚拟环境的python路径(在当前目录创建)</span></span><br><span class="line">virtualenv -p /usr/bin/python3 wxapp_env</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 进入目录</span></span><br><span class="line">cd wxapp_env</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 激活虚拟环境</span></span><br><span class="line">source venv/bin/activate</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 退出虚拟环境</span></span><br><span class="line">deactivate</span><br></pre></td></tr></table></figure><p>进入虚拟环境后，如下</p><p><img src="C:%5CUsers%5Cyango%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1610787339259.png" alt="1610787339259"></p><p>(2) 方法二：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">2.创建目录</span><br><span class="line">mkdir Myproject</span><br><span class="line">cd Myproject</span><br><span class="line"></span><br><span class="line">3.创建独立运行环境-命名</span><br><span class="line">virtualenv --no-site-packages --python=python3 venv #得到独立第三方包的环境，并且指定解释器是python3</span><br><span class="line"></span><br><span class="line">4.进入虚拟环境</span><br><span class="line">source venv/bin/activate #此时进入虚拟环境(venv)Myproject</span><br><span class="line"></span><br><span class="line">5.安装第三方包</span><br><span class="line">(venv)Myproject: pip3 install django==1.9.8</span><br><span class="line"><span class="meta">#</span><span class="bash">此时pip的包都会安装到venv环境下，venv是针对Myproject创建的</span></span><br><span class="line"></span><br><span class="line">6.退出venv环境</span><br><span class="line">deactivate命令</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>virtualenv是如何创建“独立”的Python运行环境的呢？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原理：把系统Python复制一份到virtualenv的环境，用命令source venv/<span class="built_in">bin</span>/activate进入一个virtualenv环境时，virtualenv会修改相关环境变量，让命令python和pip均指向当前的virtualenv环境。</span><br></pre></td></tr></table></figure><h3 id="虚拟环境之virtualenvwrapper"><a class="markdownIt-Anchor" href="#虚拟环境之virtualenvwrapper"></a> 虚拟环境之virtualenvwrapper</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">virtualenv 的一个最大的缺点就是：</span></span><br><span class="line"><span class="string">    每次开启虚拟环境之前要去虚拟环境所在目录下的 bin 目录下 source bin/activate ，这就需要我们记住每个虚拟环境所在的目录。(麻烦)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">解决方法一：</span><br><span class="line">	将所有的虚拟环境集中到一个目录下，如/opt/all_venv/</span><br><span class="line"></span><br><span class="line">解决方法二：</span><br><span class="line">	使用virtualenvwrapper管理你的虚拟环境（virtualenv）目录，并且省去了source的步骤。</span><br></pre></td></tr></table></figure><p>(1) 安装 <code>virtualenvwrapper</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install virtualenvwrapper</span><br></pre></td></tr></table></figure><p>(2) 设置Linux的环境变量，每次启动就加载 <code>virtualenvwrapper</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 把下面两行代码添加到 ~/.bashrc文件中</span></span><br><span class="line">vim ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 写入以下两行代码</span></span><br><span class="line">export WORKON_HOME=~/Envs                                      #设置virtualenv的统一管理目录</span><br><span class="line">export VIRTUALENVWRAPPER_VIRTUALENV_ARGS=&#x27;--no-site-packages&#x27;  #添加virtualenvwrapper的参数，生成干净隔绝的环境</span><br><span class="line">export VIRTUALENVWRAPPER_PYTHON=/opt/python347/bin/python3     #指定python解释器</span><br><span class="line">source /opt/python34/bin/virtualenvwrapper.sh                  #执行virtualenvwrapper安装脚本</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 读取文件，使得生效，此时已经可以使用virtalenvwrapper</span></span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>(3) 基本使用 <code>virtualenvwrapper</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建一个虚拟环境：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkvirtualenv my_django115   <span class="comment"># 这会在 ~/Envs 中创建 my_django115 文件夹。</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 在虚拟环境上工作：激活虚拟环境my_django115</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> workon my_django115</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 再创建一个新的虚拟环境</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkvirtualenv my_django2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> virtualenvwrapper 提供环境名字的tab补全功能。 当有很多环境， 并且很难记住它们的名字时，这就显得很有用。</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> workon切换环境：还可以停止你当前的环境，可以在多个虚拟环境中来回切换</span></span><br><span class="line">workon django1.15</span><br><span class="line">workon django2.0</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 也可以手动停止虚拟环境</span></span><br><span class="line">deactivate</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除虚拟环境，需要先退出虚拟环境</span></span><br><span class="line">rmvirtualenv my_django115</span><br></pre></td></tr></table></figure><p>(4) 常用其他命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">列举所有的环境</span></span><br><span class="line">lsvirtualenv</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 导航到当前激活的虚拟环境的目录中，比如说这样您就能够浏览它的 site-packages 。</span></span><br><span class="line">cdvirtualenv</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 和上面的类似，但是是直接进入到 site-packages 目录中。</span></span><br><span class="line">cdsitepackages</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示 site-packages 目录中的内容。</span></span><br><span class="line">lssitepackages</span><br></pre></td></tr></table></figure><p>图解<img src="https://images2018.cnblogs.com/blog/1132884/201807/1132884-20180726113018954-757644711.png" alt="img"></p><h2 id="3-mysql"><a class="markdownIt-Anchor" href="#3-mysql"></a> 3 Mysql</h2><p>CentOS7默认使用<strong>MariaDB</strong>(Mysql的一个开源分支)</p><p>这里是使用Mysql</p><h3 id="31-安装mysql"><a class="markdownIt-Anchor" href="#31-安装mysql"></a> <strong>3.1 安装Mysql</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 删除默认的mariadb数据库</span></span><br><span class="line">yum remove mariadb-lib.x86_64</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 下载Mysql源包</span></span><br><span class="line">wget https://repo.mysql.com/mysql57-community-release-el7-10.noarch.rpm</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装Mysql客户端</span></span><br><span class="line">yum -y localinstall mysql57-community-release-el7-10.noarch.rpm</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装Mysql服务器</span></span><br><span class="line">yum -y install mysql-community-server</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="32-mysql数据库配置"><a class="markdownIt-Anchor" href="#32-mysql数据库配置"></a> <strong>3.2 Mysql数据库配置</strong></h3><p>(1) 启动Mysql</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start/restart # 实际执行的是以下命令</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或</span></span><br><span class="line">systemctl start mysqld.service</span><br></pre></td></tr></table></figure><p>(2) 查看Mysql运行状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status mysqld.service</span><br></pre></td></tr></table></figure><p>(3) 正常运行状态，则找出此时的root用户密码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;password&quot; /var/log/mysqld.log</span><br></pre></td></tr></table></figure><p><img src="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223140024043-914316551.png" alt="img"></p><p>(4) 首次登录数据库前，需修改密码</p><p>登录数据库</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> mysql -uroot -p</span></span><br><span class="line">Enter password: # 输入上一步获得的临时密码</span><br></pre></td></tr></table></figure><h4 id="重置mysql密码-方法一"><a class="markdownIt-Anchor" href="#重置mysql密码-方法一"></a> 重置Mysql密码 (方法一)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;新密码&#x27;</span>;</span><br></pre></td></tr></table></figure><ul><li><p>若密码的复杂度不符合默认规定，如下命令查看mysql默认密码复杂度：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW VARIABLES LIKE &#39;validate_password%&#39;;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223140628401-1902345961.png" alt="img"></p><ul><li>如需修改密码复杂度参考如下命令：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set global validate_password_policy&#x3D;LOW;</span><br></pre></td></tr></table></figure><img src="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223140721583-1718649859.png" alt="img"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set global validate_password_length&#x3D;6;</span><br></pre></td></tr></table></figure><img src="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223140843664-1138395293.png" alt="img"></li></ul><h3><a class="markdownIt-Anchor" href="#"></a></h3><h4 id="重置mysql密码-方法二"><a class="markdownIt-Anchor" href="#重置mysql密码-方法二"></a> 重置Mysql密码 (方法二)</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">cat /var/log/mysqld.log |grep &#x27;password&#x27; # 查看默认密码</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 登录mysql</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> mysql -uroot -p</span></span><br><span class="line">Enter password: # 输出默认的密码 </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> sql语句操纵</span></span><br><span class="line">SET PASSWORD = PASSWORD(&#x27;123456&#x27;);</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 报错-修改安全策略</span></span><br><span class="line">set global validate_password_policy=0;</span><br><span class="line">set global validate_password_length=1;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重设密码</span> </span><br><span class="line">SET PASSWORD = PASSWORD(&#x27;123456&#x27;);</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置登录永久有效（不过期）</span></span><br><span class="line">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; PASSWORD EXPIRE NEVER; </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 刷新权限</span></span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><h3 id="33-开启mysql的远程访问"><a class="markdownIt-Anchor" href="#33-开启mysql的远程访问"></a> <strong>3.3 开启mysql的远程访问</strong></h3><p>执行以下命令开启远程访问限制（注意：下面命令开启的IP是 192.168.19.128，如要开启所有的，用%代替IP）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on *.* to &#x27;root&#x27;@&#x27;192.168.0.1&#x27; identified by &#x27;远程访问密码&#x27; with grant option;</span><br></pre></td></tr></table></figure><p><strong>注：password–是你设置你的mysql远程登录密码。</strong></p><p>然后再输入下面两行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> flush privileges;</span></span><br></pre></td></tr></table></figure><p>此步操作，退出mysql也可以。具体参考：</p><p><img src="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223141433774-1613386939.png" alt="img"></p><h3 id="34-开启防火墙端口centos为firewalld添加开放端口3306"><a class="markdownIt-Anchor" href="#34-开启防火墙端口centos为firewalld添加开放端口3306"></a> <strong>3.4 开启防火墙端口，CentOS为firewalld添加开放端口3306</strong></h3><h3 id="35-更改mysql语言编码方式为utf8"><a class="markdownIt-Anchor" href="#35-更改mysql语言编码方式为utf8"></a> <strong>3.5 更改mysql语言编码方式为<code>utf8</code></strong></h3><p>首先重新登录mysql，然后输入status：</p><p><img src="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223141820442-26776716.png" alt="img"></p><p>到/etc目录下的my.cnf文件下修改一下文件内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;my.cnf</span><br></pre></td></tr></table></figure><p>新增四行代码：</p><p><img src="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223142058134-390931034.png" alt="img"></p><p>保存更改后的my.cnf文件后，重启下mysql，然后输入status再次查看</p><p><img src="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223142143245-586519999.png" alt="img"></p><p><img src="https://img2018.cnblogs.com/i-beta/1780831/202002/1780831-20200223142200190-1364319425.png" alt="img"></p><h2 id="4-python操作redis"><a class="markdownIt-Anchor" href="#4-python操作redis"></a> 4 python操作redis</h2><p><strong>4.1 简介</strong></p><p>​	<strong>redis</strong>是一个<strong>缓存数据库</strong>，支持<strong>key-value</strong>存储方式。</p><p>​ 支持的value类型多：<strong>string</strong>(字符串), <strong>list</strong>(链表), <strong>set</strong>(集合), <strong>hash</strong>(哈希类型)</p><pre><code>	redis会**周期性**的**把更新的数据写入磁盘**或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。 
</code></pre><p><strong>4.2 安装redis</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yum install redis -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者</span></span><br><span class="line">wget http://download.redis.io/releases/redis-3.0.6.tar.gz</span><br><span class="line">tar xzf redis-3.0.6.tar.gz</span><br><span class="line">cd redis-3.0.6</span><br><span class="line">make</span><br></pre></td></tr></table></figure><p><strong>4.3 启动redis</strong></p><p>​	这里注意对配置文件修改</p><p>​	打开注释，不然py客户端连不上　　<img src="https://images2015.cnblogs.com/blog/1132884/201706/1132884-20170608195307153-632918138.png" alt="img"></p><p>​	指定配置文件进行启动　　<img src="https://images2015.cnblogs.com/blog/1132884/201706/1132884-20170608195424153-856395118.png" alt="img"></p><p>​	然后准备设置redis验证密码（不然py连接报错）<img src="https://images2015.cnblogs.com/blog/1132884/201706/1132884-20170608195542012-1827075240.png" alt="img"></p><p>​	退出，重新登录redis　　<img src="https://images2015.cnblogs.com/blog/1132884/201706/1132884-20170608195608981-324219456.png" alt="img"></p><p><strong>4.4 python操作redis</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python </span></span><br><span class="line"><span class="comment"># -*- coding:utf8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">r = redis.Redis(host=<span class="string">&#x27;192.168.11.122&#x27;</span>,password=<span class="string">&#x27;123123&#x27;</span>,port=<span class="number">6379</span>)</span><br><span class="line"></span><br><span class="line">r.<span class="built_in">set</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;Bar&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (r.get(<span class="string">&#x27;foo&#x27;</span>))</span><br></pre></td></tr></table></figure><p><strong>4.5 线程池操作redis</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">redis-py 使用connection pool 来管理对一个redis server的所有连接，避免每次建立，释放连接的开销</span></span><br><span class="line"><span class="string">默认 每个redis实例都会维护一个自己的链接池,然后作为参数redis,这样就可以实现多个redis 实例共享一个连接池</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&#x27;192.168.11.122&#x27;</span>,password=<span class="string">&#x27;123123&#x27;</span>,port=<span class="number">6379</span>)</span><br><span class="line"></span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">r.<span class="built_in">set</span>(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;Yu chao&#x27;</span>)</span><br><span class="line">print(r.get(<span class="string">&#x27;name&#x27;</span>))</span><br></pre></td></tr></table></figure></div><div class="article-footer"><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/YANGMOXI" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avatar.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/YANGMOXI" target="_blank"><span class="text-dark">取个帅气的昵称</span><small class="ml-1x">。。</small></a></h3><div>SpaceRock</div></div></figure></div></div></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="next"><a href="/2021/01/19/%E7%AE%97%E6%B3%95_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8D%8E%E4%B8%BA-%E6%9C%BA%E8%80%83/" title="华为机试"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li><li class="toggle-toc"><a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button"><span>[&nbsp;</span><span>文章目录</span> <i class="text-collapsed icon icon-anchor"></i> <i class="text-in icon icon-close"></i> <span>]</span></a></li></ul><div class="bar-right"></div></div></nav></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/YANGMOXI" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li></ul><div class="copyright"><div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta=(meta="nick,mail,link").split(",").filter(function(e){return-1<GUEST.indexOf(e)});new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"",appKey:"",placeholder:"Just go go",avatar:"mm",meta:meta,pageSize:"10",visitor:!1})</script></body></html>